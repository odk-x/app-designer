
<!doctype html>
<!--
This file is automatically generated and all changes will be overwritten














-->
<html>
	<head>
		<link href="generate_table.css" rel="stylesheet" />
		<style>
		
	.header, .search {
		display: none;
	}

		</style>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<script type="text/javascript" src="/example/system/js/odkCommon.js"></script>
		<script type="text/javascript" src="/example/system/js/odkData.js"></script>
		<script type="text/javascript" src="/example/system/tables/js/odkTables.js"></script>
		<script type="text/javascript" src="formgen_common.js"></script>
		<script type="text/javascript" src="generate_common.js"></script>
		<script>
// If you set a display_col, that column will be shown in the large text for each row item.
// If you don't set one, we'll try and use the table id to pull it from this variable, which stores the
// instance column for each table or _id if it couldn't be found.
var display_cols = {"household_member": "name", "femaleClients": "_id", "maleClients": "_id", "exampleForm": "name", "Ethiopia_members": "name", "Tea_types": "Name", "plot": "plot_name", "Tea_inventory": "_id", "geopoints": "_id", "datesTest": "test", "selects": "_id", "visit": "_id", "Ethiopia_household": "household_id", "Tea_houses": "Name"}
// List of tables we can add/edit with formgen, if the table isn't found in this list, we'll use survey
var allowed_tables = ["household_member", "femaleClients", "maleClients", "exampleForm", "Ethiopia_members", "Tea_types", "plot", "Tea_inventory", "geopoints", "datesTest", "selects", "Ethiopia_household", "Tea_houses"]
// A map of table ids to tokens that can be used to localize their display name
var localized_tables = {"household_member": {"title": {"text": "Household Members"}}, "femaleClients": {"title": {"text": "Female All Fields"}}, "maleClients": {"title": {"text": "All Partner Form Fields"}}, "exampleForm": {"title": {"text": "Example form"}}, "Ethiopia_members": {"title": {"text": "Roster"}}, "Tea_types": {"title": {"text": "Tea Types"}}, "plot": {"title": {"text": "Plot"}}, "Tea_inventory": {"title": {"text": "Tea Inventory"}}, "geopoints": {"title": {"text": "Home Locator"}}, "datesTest": {"title": {"text": "Dates test"}}, "selects": {"title": {"text": "Select Examples"}}, "visit": {"title": {"text": "Plot Visits"}}, "Ethiopia_household": {"title": {"text": "Ethiopia Household Data"}}, "Tea_houses": {"title": {"text": "Tea Houses"}}};
var display_col_wrapper = null;
var clicked = function(table_id, row_id) {
	odkTables.openDetailView({}, table_id, row_id);
}
var customJsOl = function customJsOl() {
	
	display_col = "client_id";
	global_join = "femaleClients ON femaleClients.client_id = geopoints.client_id"
	global_which_cols_to_select = "geopoints.*"
	var transpo = function(e, c, d, i) {
		if (c == null) c = d.getData(i, "transportation_mode_other");
		return "Transportation: " + c;
	}
	display_subcol = [["Step: ", "step", true], [transpo, "transportation_mode", true]];
	table_id = "geopoints";

	var add = document.createElement("button");
	add.style.display = "block";
	add.style.width = "70%";
	add.innerText = "Add Waypoint";
	add.addEventListener("click", function() {
		alert("TODO"); // CACHED_D DOESN'T EXIST THIS IS A LIST VIEW
		var id = newGuid();
		odkData.addRow("geopoints", {"client_id": cached_d.getData(0, "client_id", "_id": id)}
		odkTables.launchHTML(null, "config/assets/formgen/geopoints/index.html#" + id);
	});
	var map = document.createElement("button");
	map.style.display = "block";
	map.style.width = "70%";
	map.innerText = "Map View";
	map.addEventListener("click", function() {
		alert("TODO");
		odkTables.openTableToMapView(null, global_where_clause, [global_where_arg], clean_href() + "#" + table_id + "/" + global_where_clause + "/" + global_where_arg);
	});
	document.insertBefore(map, document.getElementById("list"));
	document.insertBefore(add, document.getElementById("list"));

}
var customJsSearch = function customJsSearch() {
	
}

		</script>
		<script type="text/javascript" src="generate_table.js"></script>
	</head>
	<body onLoad="ol();">
		<div id="header">
			<button id='back' onClick='page_back();'></button>
			<span id="table_id"></span>
			<button id='add' onClick='add();'></button>
		</div>
		<div id="navigation">
			<button id="group-by" onClick='groupBy();' style='font-size: small;' disabled></button>
			<select id="group-by-list" style='display: none;'></select>
			<button id="group-by-go" style='display: none;' onClick="groupByGo();"></button>
			<button disabled id='prev' onClick='prev();'></button>
			<select id="limit" onChange='newLimit();'>
				<!--<option value="2">2 (debug)</option>-->
				<option value="20">20</option>
				<option value="50">50</option>
				<option value="100">100</option>
				<option value="1000">1000</option>
			</select>
			<span id="navigation-text">Loading...</span>
			<button disabled id='next' onClick='next();'></button>
		</div>
		<div id="search">
			<input type='text' id='search-box' onblur='offset=0; update_total_rows(false)' />
			<!--
				<button onClick='offset=0; update_total_rows(false);' id='search-button'></button>
			-->
			<button id='search-button'></button>
		</div>
		<div id="list">Loading...</div>
		
	</body>
</html>